<% layout('/layouts/boilerplate') %>

<div class="page-wrapper">
    <div class="page-container">
        <div class="page-header">
            <h1>Contact Us</h1>
        </div>

        <div class="contact-intro">
            <p class="lead">Have questions or need assistance? We'd love to hear from you. Fill out the form below and we'll get back to you as soon as possible.</p>
        </div>

        <div class="contact-form-card">
            <form action="/contact" method="POST" novalidate class="needs-validation" id="contactForm">
                <div class="form-group">
                    <label for="name">Your Name</label>
                    <input type="text" id="name" name="name" required>
                    <div class="invalid-feedback">
                        Please provide your name.
                    </div>
                </div>

                <div class="form-group">
                    <label for="email">Email Address</label>
                    <input type="email" id="email" name="email" required>
                    <div class="invalid-feedback">
                        Please provide a valid email address.
                    </div>
                </div>

                <div class="form-group">
                    <label for="subject">Subject</label>
                    <select id="subject" name="subject" required>
                        <option value="">Choose a subject...</option>
                        <option value="general">General Inquiry</option>
                        <option value="support">Technical Support</option>
                        <option value="listing">Property Listing Question</option>
                        <option value="booking">Booking Issue</option>
                        <option value="account">Account Help</option>
                        <option value="feedback">Feedback</option>
                        <option value="other">Other</option>
                    </select>
                    <div class="invalid-feedback">
                        Please select a subject.
                    </div>
                </div>

                <div class="form-group">
                    <label for="message">Message</label>
                    <textarea id="message" name="message" rows="6" required></textarea>
                    <div class="invalid-feedback">
                        Please enter your message.
                    </div>
                </div>

                <button type="submit" class="btn-submit" id="submitBtn">
                    <i class="fas fa-paper-plane"></i> Send Message
                </button>
            </form>
        </div>

        <script>
            // Form validation and submission handling
            // NOTE: This provides client-side validation and loading state feedback
            // The form currently submits to server which shows a temporary success message
            // TODO: When implementing real email functionality, consider:
            // - Adding AJAX submission to avoid page reload
            // - Better error handling for failed submissions
            // - Email format validation on both client and server side
            (function() {
                'use strict';
                const form = document.getElementById('contactForm');
                const submitBtn = document.getElementById('submitBtn');
                
                form.addEventListener('submit', function(event) {
                    if (!form.checkValidity()) {
                        event.preventDefault();
                        event.stopPropagation();
                    } else {
                        // Show loading state while form submits
                        submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sending...';
                        submitBtn.disabled = true;
                    }
                    form.classList.add('was-validated');
                }, false);
            })();
        </script>

        <div class="contact-info-grid">
            <div class="contact-info-card">
                <div class="icon">
                    <i class="fas fa-envelope"></i>
                </div>
                <h5>Email</h5>
                <p>support@heavenly.com</p>
            </div>
            <div class="contact-info-card">
                <div class="icon">
                    <i class="fas fa-phone"></i>
                </div>
                <h5>Phone</h5>
                <p>+91 12345 67890</p>
            </div>
            <div class="contact-info-card">
                <div class="icon">
                    <i class="fas fa-map-marker-alt"></i>
                </div>
                <h5>Address</h5>
                <p>123 Paradise Lane<br>GIFT City, DC 12345</p>
            </div>
        </div>
    </div>
</div>
